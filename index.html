<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="index.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.3/jquery.min.js"></script>
</head>

<body>
    <p>Tên</p><input type="text" id="ten">
    <p>DOB</p><input type="text" id="ngaysinh">
    <p>Điểm Toán</p><input type="text" id="diemtoan">
    <p>Điểm Lý</p><input type="text" id="diemly">
    <p>Điểm Hóa</p><input type="text" id="diemhoa">
    <div>
        <button id="Nhap">Nhập</button>
        <button id="tinhdiemtrungbinh">Tính điểm trung bình</button>
        <button id="xacdinhhocluc">Xác định học lực</button>
    </div>
    <table>
        <thead>
            <tr>
                <th>Họ và tên</th>
                <th>Ngày sinh</th>
                <th>Điểm toán</th>
                <th>Điểm lý</th>
                <th>Điểm hóa</th>
                <th>Điểm trung bình</th>
                <th>Học lực</th>
            </tr>
        </thead>
        <tbody id="tbody">

        </tbody>
    </table>
    <script>
        $(document).ready(function () {
            let index = 1;
            $('#Nhap').click(function () {
                let nhapten = $('#ten').val();
                let nhapngaysinh = $('#ngaysinh').val();
                let nhapdiemtoan = $('#diemtoan').val();
                let nhapdiemly = $('#diemly').val();
                let nhapdiemhoa = $('#diemhoa').val();
                let tr1 = $('<tr>');
                tr1.attr('id', index);

                let tdHoTen = $('<td>').text(nhapten);
                let tdNgaySinh = $('<td>').text(nhapngaysinh);
                let tdDiemtoan = $('<td>').text(nhapdiemtoan);
                let tdDiemly = $('<td>').text(nhapdiemly);
                let tdDiemhoa = $('<td>').text(nhapdiemhoa);
                let tdDiemtrungbinh = $('<td>');
                let tdHocluc = $('<td>');

                tdDiemtoan.attr('id', 'toan' + index);
                tdDiemly.attr('id', 'ly' + index);
                tdDiemhoa.attr('id', 'hoa' + index);
                tdDiemtrungbinh.attr('id', 'dtb' + index);
                tdHocluc.attr('id', 'hl' + index);

                tr1.append(tdHoTen);
                tr1.append(tdNgaySinh);
                tr1.append(tdDiemtoan);
                tr1.append(tdDiemly);
                tr1.append(tdDiemhoa);
                tr1.append(tdDiemtrungbinh);
                tr1.append(tdHocluc);

                $('#tbody').append(tr1);

                index++;
            });
            $('#tinhdiemtrungbinh').click(function () {
                for (let i = 1; i < index; i++) {
                    let dtoan = $('#toan' + i);
                    let dly = $('#ly' + i);
                    let dhoa = $('#hoa' + i);
                    let dtrungbinh = $('#dtb' + i);

                    dtrungbinh.html((dtoan.html() - (-dly.html()) - (-dhoa.html())) / 3);
                }
            });

            $('#xacdinhhocluc').click(function () {
                for (let i = 1; i < index; i++) {
                    let dtrungbinh = $('#dtb' + i);
                    let hluc = $('#hl' + i);
                    if (dtrungbinh.html() >= 8) {
                        hluc.html('Giỏi');
                    } else if (6 <= dtrungbinh.html() && dtrungbinh.html() < 8) {
                        hluc.html('Khá');
                    } else if (3 < dtrungbinh.html() && dtrungbinh.html() < 6) {
                        hluc.html('Trung Bình');
                    } else {
                        hluc.html('Yếu');
                    }
                }
            });
        });   
    </script>
</body>

</html>